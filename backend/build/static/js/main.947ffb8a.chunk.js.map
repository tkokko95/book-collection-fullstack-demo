{"version":3,"sources":["services/books.js","components/BookList.js","components/BookForm.js","components/Notification.js","App.js","index.js"],"names":["baseUrl","getAll","a","axios","get","response","data","create","post","update","id","put","remove","delete","booksService","BookList","books","handleSelectionChange","selectedBook","sortedBooks","sort","b","author","localeCompare","type","className","map","book","onClick","title","BookForm","fetchBooks","setNotification","blankForm","description","useState","formData","setFormData","editMode","useEffect","formDataIsValid","handleSubmitNew","info","error","handleSubmitEdit","message","handleDeleteButton","bookToDelete","handleChange","event","target","name","value","onChange","maxLength","rows","columns","disabled","Notification","App","setBooks","setSelectedBook","notification","fetchedBooks","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.947ffb8a.chunk.js","sourcesContent":["import axios from 'axios'\n\nconst baseUrl = '/api/books'\n\nconst getAll = async () => {\n    const response = await axios.get(baseUrl)\n    return response.data\n}\n\nconst create = async (data) => {\n    const response = await axios.post(baseUrl, data)\n    return response.data\n}\n\nconst update = async (data, id) => {\n    const response = await axios.put(`${baseUrl}/${id}`, data)\n    return response.data\n}\n\nconst remove = async (id) => {\n    const response = await axios.delete(`${baseUrl}/${id}`)\n    return response.data\n}\n\nconst booksService = { getAll, create, update, remove }\nexport default booksService","import React from 'react'\nconst BookList = ({ books, handleSelectionChange, selectedBook }) => {\n    const sortedBooks = books.sort((a, b) => a.author.localeCompare(b.author))\n\n    return(\n        <ul type='none' className='bookList'>\n            {sortedBooks.map((book) => {\n                return(\n                    <li\n                        key={book.id}\n                        className={selectedBook?.id === book.id ? 'selectedBook' : 'book'}\n                        onClick={() => handleSelectionChange(book)}\n                    >\n                        {book.author} - <strong>{book.title}</strong>\n                    </li>\n                )\n            })}\n        </ul>\n    )\n}\n\nexport default BookList","import React, { useState, useEffect } from 'react'\nimport booksService from '../services/books'\n\nconst BookForm = ({ selectedBook, handleSelectionChange, fetchBooks, setNotification }) => {\n    const blankForm = {\n        title: '',\n        author: '',\n        description:''\n    }\n    const [formData, setFormData] = useState(blankForm)\n    const editMode = selectedBook.title ? true : false\n\n    useEffect(() => {\n        setFormData(selectedBook)\n    }, [selectedBook])\n\n    const formDataIsValid = () => {\n        if (formData.title && formData.author) {\n            return true\n        }\n        return false\n    }\n\n    const handleSubmitNew = async () => {\n        try {\n            const response = await booksService.create(formData)\n            await fetchBooks()\n            setFormData(blankForm)\n            setNotification({\n                info: `Book succesfully added: ${response.title}`\n            })\n        } catch(error) {\n            setNotification({\n                error: `${error}: Make sure that the title doesn't already exist`\n            })\n        }\n    }\n\n    const handleSubmitEdit = async () => {\n        try {\n            const response = await booksService.update(formData, selectedBook.id)\n            setFormData(blankForm)\n            handleSelectionChange(blankForm)\n            setNotification({\n                info: `Book successfully modified: ${response.title}`\n            })\n        } catch(error) {\n            setNotification({\n                error: `${error.message}: This item might have been deleted`\n            })\n        } finally {\n            await fetchBooks()\n        }\n    }\n\n    const handleDeleteButton = async () => {\n        try {\n            const bookToDelete = selectedBook.title\n            await booksService.remove(selectedBook.id)\n            setFormData(blankForm)\n            handleSelectionChange(blankForm)\n            setNotification({\n                info: `Book successfully deleted: ${bookToDelete}`\n            })\n        } catch(error) {\n            setNotification({\n                error: `${error.message}: This item might have already been deleted`\n            })\n        } finally {\n            await fetchBooks()\n        }\n    }\n\n    const handleCancelButton = () => {\n        handleSelectionChange(blankForm)\n    }\n\n    const handleChange = (event) => {\n        setFormData({\n            ...formData,\n            [event.target.name]: event.target.value\n        })\n    }\n\n    return(\n        <div className='bookForm'>\n            <label>\n                Title *\n                <br/>\n                <input\n                    type='text'\n                    value={formData.title}\n                    name='title'\n                    id='titleInput'\n                    onChange={handleChange}\n                    maxLength='50'\n                />\n            </label>\n            <br />\n            <label>\n                Author *\n                <br/>\n                <input\n                    type='text'\n                    value={formData.author}\n                    name='author'\n                    id='authorInput'\n                    onChange={handleChange}\n                    maxLength='50'\n                />\n            </label>\n            <br />\n            <label>\n                Description\n                <br/>\n                <textarea\n                    type='text'\n                    rows='10'\n                    columns='10'\n                    value={formData.description}\n                    name='description'\n                    id='descriptionInput'\n                    maxLength='150'\n                    onChange={handleChange}\n                />\n            </label>\n            <br />\n            <button disabled={editMode || !formDataIsValid()} onClick={handleSubmitNew} id='saveNewButton'>Save New</button>\n            <button disabled={!editMode || !formDataIsValid()} onClick={handleSubmitEdit} id='saveEditedButton'>Save</button>\n            <button disabled={!editMode} onClick={handleDeleteButton} id='deleteButton'>Delete</button>\n            <button disabled={!editMode} onClick={handleCancelButton} id='cancelButton'>Cancel</button>\n        </div>\n    )\n}\n\nexport default BookForm","import React from 'react'\n\nconst Notification = ({ message, className }) => {\n    if(!message) {\n        return null\n    }\n    return (\n        <div className={className}>\n            {message}\n        </div>\n    )\n}\n\nexport default Notification","import React, { useState, useEffect } from 'react'\n\nimport booksService from './services/books'\nimport BookList from './components/BookList'\nimport BookForm from './components/BookForm'\nimport Notification from './components/Notification'\n\nconst App = () => {\n    const [books, setBooks] = useState([])\n    const [selectedBook, setSelectedBook] = useState({\n        title: '',\n        author: '',\n        description: ''\n    })\n    const [notification, setNotification] = useState(null)\n\n    useEffect(() => {\n        fetchBooks()\n    }, [])\n\n    const fetchBooks = async () => {\n        try {\n            const fetchedBooks = await booksService.getAll()\n            setBooks(fetchedBooks)\n        } catch (error) {\n            setNotification({\n                error: 'Failed to fetch data from the server'\n            })\n        }\n    }\n\n    const handleSelectionChange = (book) => {\n        setSelectedBook(book)\n    }\n\n    return (\n        <div className='mainContainer'>\n            <Notification\n                message={notification?.info || notification?.error}\n                className={`\n                    ${notification?.error ? 'error' : 'info'}\n                    notification\n                `}\n            />\n            <br />\n            <BookForm\n                selectedBook={selectedBook}\n                handleSelectionChange={handleSelectionChange}\n                fetchBooks={fetchBooks}\n                setNotification={setNotification}\n            />\n            <BookList\n                books={books}\n                selectedBook={selectedBook}\n                handleSelectionChange={handleSelectionChange}\n            />\n        </div>\n    )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport './index.css'\n\n\nReactDOM.render(\n    <React.StrictMode>\n        <App />\n    </React.StrictMode>,\n    document.getElementById('root')\n)\n"],"sourceRoot":""}